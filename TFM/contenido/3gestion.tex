\chapter{Gestión del proyecto}
\lettrine{E}{n} este capítulo se ahondará en la planificación del proyecto, su seguimiento y del plan de gestión de riesgos utilizado.

\section{Análisis de requisitos}
Los requisitos definen las pautas que el sistema desarrollado debe cumplir para alcanzar los objetivos establecidos. Los requisitos pueden dividirse en los dos siguientes tipos.

\subsection{Requisitos funcionales}
Definen las funcionalidades que el sistema debe de ofrecer. Para este proyecto, se busca ampliar el sistema base para que cumpla con los siguientes requisitos:

\begin{itemize}
    \item Pasar de reconocimientos frame a frame a ventanas de frames, aprovechando así la coherencia espacio-temporal.
    \item Reconocimiento de desconocidos (\textit{Open-Set}) e inclusión al sistema (\textit{Open-World}): el sistema debe ser capaz de reconocer y agregar nuevas personas a su base de datos.
\end{itemize}
\subsection{Requisitos no funcionales}
Definen las características técnicas que debería de cumplir el sistema:
\begin{itemize}
    \item Que el sistema evolucione adecuadamente (ejemplo: evitar caídas drásticas en la precisión) a lo largo del tiempo.
    \item Que la instalación del sistema sea rápida y prácticamente automática.
    \item Operación en tiempo real: sujeto a la frecuencia del componente más "lento". En el caso de este proyecto, las cámaras RGBD otorgan una imagen RGB cada 100 ms (\textbf{10 Hz}). El objetivo es que el sistema sea capaz de mantener dicha frecuencia.
    \item Portabilidad: la ejecución del sistema no debe de depender exclusivamente de la arquitectura o de las diferentes versiones de librerías.
    \item Escalabilidad: debe permitir incluir nuevos componentes (ejemplo: cámaras) sin comprometer significativamente al rendimiento.
    \item TODO Flexible: todos los requisitos anteriores deben cumplirse para los dispositivos del proyecto.
    \item Seguridad: el sistema debe proporcionar un método para ofuscar la información biométrica durante su operación. De esta forma, si el sistema es comprometido, el atacante no puede recuperar los datos del individuo.
\end{itemize}
\subsection{Actores}
A continuación se definen los actores (o roles) implicados y sus papeles:

\begin{itemize}
    \item Individuo que se somete a las pruebas del sistema (ser detectada y reconocida).
    \item Operador del sistema: encargado de ejecutar y mantener el sistema.
\end{itemize}

\section{Metodología de desarrollo}

Para el presente proyecto se ha empleado una metodología basada en Kanban (TODO: referencia). Kanban es una herramienta de gestión \textbf{visual}, cuyo objetivo es dividir el trabajo de un proyecto en pequeñas tareas concretas, agilizando así el desarrollo. El proyecto en sí representa un tablero y cada tarea representa una tarjeta, de esta forma, el equipo de desarrollo tiene una visión global de todas las tareas del proyecto. Las tareas en Kanban pasan por múltiples fases que pueden variar según las necesidades del proyecto. Se definen las siguientes fases aplicadas de esta aproximación de Kanban:
\begin{itemize}
    \item \textbf{\textit{Backlog}}: son las tareas situadas en fase de TODO: concepción y que esperan a ser divididas en una o varias tareas más concretas.
    \item \textbf{\textit{TO-DO}}: en esta fase se ubican las tareas que representan objetivos concretos, pero que aún no se han iniciado.
    \item \textbf{\textit{DOING}}: son las tareas de la fase \textit{to-do} cuyo desarrollo ha comenzado.
    \item \textbf{\textit{DONE}}: las tareas cuyo desarrollo ha finalizado.
\end{itemize}

En la figura \ref{fig:khan} se muestra una instantánea del tablero Kanban utilizado para este proyecto. El enfoque Kanban ha permitido priorizar en todo momento las tareas importantes del proyecto gracias a su representación visual.

\begin{figure}
    \centering
    \includegraphics[width=1\linewidth]{imagenes/Trallao.png}
    \caption{Instantánea del tablero Kanban del proyecto}
    \label{fig:khan}
\end{figure}

\section{Planificación}

La planificación del proyecto se planteó para llevarse a cabo durante casi 12 meses, desde finales de enero de 2025 hasta principios de enero de 2026. El trabajo realizado se divide en las siguientes tareas, cada una dividida en tareas más concretas:

\subsection{T0. Revisión de la literatura}
Esta tarea representa el preludio del proyecto.
\textbf{Tareas:}
\begin{itemize}
    \item Estudio de trabajos que hayan utilizado dispositivos Jetson para ejecutar modelos de inteligencia artificial de forma eficiente.
    \item Revisar la memoria del trabajo fin de grado del sistema que se pretende optimizar \cite{andrew}.
\end{itemize}

\subsection{T1. Instalación y ejecución del sistema de partida}
Esta tarea pretende obtener una versión inicial del software funcionando en los dispositivos de desarrollo y/o pruebas.

\textbf{Tareas:}
\begin{itemize}
    \item Creación de un Dockerfile que incluya todas las librerías y aplicaciones necesarias para desplegar y hacer funcionar el sistema.
    \item Primeras pruebas del sistema a modo de comprobación de que todo funciona según lo esperado.
    \item Registro de primeros resultados, que servirán de línea base para futuras comparaciones.
\end{itemize}

\subsection{T2. Optimización de inferencias de las redes neuronales convolucionales}
Esta tarea pretende lograr un recorte en la latencia de los componentes más pesados del sistema, las \glspl{cnn}, a partir de la potencia de cómputo de las \glspl{gpu} disponibles.

\textbf{Tareas:}
\begin{itemize}
    \item Instalación de TensorRT y PyCUDA en los dispositivos.
    \item Exportación de los modelos existentes al formato ONNX
    \item Conversión de los modelos ONNX a engines de TensorRT mediante trtexec o por medio de la API de Python de TensorRT.
    \item Creación de códigos de inferencia que reciban como entrada el flujo de datos del sistema.
\end{itemize}

\subsection{T3. Pruebas de los modelos y del sistema}
Esta tarea consiste en poner a prueba los componentes desarrollados y analizar su influencia en el rendimiento del sistema.

\textbf{Tareas:}
\begin{itemize}
    \item Preparación y ejecución de las pruebas de modelos.
    \item Registro de los resultados y comparación con la línea base.
    \item Preparación y ejecución de las pruebas del sistema.
    \item Registro de los resultados y comparación con la línea base.
    \item TODO: más cosas fijo
\end{itemize}

\subsection{T4. Migración a ROS 2}
Esta tarea se encarga de realizar el proceso de migración de ROS 1 Noetic a ROS 2 Humble con el fin de seguir recibiendo soporte y permitir la ejecución del sistema en nuevas distribuciones de Ubuntu.

\textbf{Tareas:}
\begin{itemize}
    \item Preparar un nuevo Dockerfile para instalar ROS 2 Humble junto al sistema.
    \item Revisar la guía de migración oficial de ROS 2.
    \item Realizar los ajustes necesarios para que el proyecto pueda compilar en ROS 2.
    \item Migrar los nodos del sistema a ROS 2.
    \item Comprobar que el sistema funciona correctamente en ROS 2.
\end{itemize}

\subsection{T5. Extensión del sistema al procesamiento de vídeo}
Debido a las características del método de aprendizaje máquina a implementar. Es necesario extender el sistema para procesar vídeos (secuencias de caras). Debido a que en los videos de prueba pueden aparecer múltiples individuos de forma simultánea, es necesario implementar un método de seguimiento (\textit{tracking}) de las caras.

\textbf{Tareas:}
\begin{itemize}
    \item Agrupar las caras que aparecen en la secuencia por las etiquetas de las entidades otorgadas por el \textit{\gls{dataset}}.
    \item Obtener una nueva versión del modelo de reconocimiento facial que sea capaz de procesar múltiples imágenes por inferencia (modo \textif{batch}).
    \item Modificar el código para devolver un reconocimiento por cada secuencia de caras de entrada.
    \item Diseñar e implementar el método de \textit{tracking} para agrupar las caras.
    \item Preparar videos donde se vea el tracking funcionando e implementar mejoras si es necesario.
\end{itemize}

\subsection{T6. Desarrollo del sistema adaptativo}
Esta enorme tarea abarca todos los pasos desde la comprensión de los conceptos hasta la obtención del nuevo código.

\textbf{Tareas:}
\begin{itemize}
    \item Entender los conceptos que sustentan la adaptación que se quiere implementar \cite{Erik}.
    \item Implementar los componentes necesarios para reconocer entidades desconocidas (\textit{Open-Set}).
    \item Implementar los componentes necesarios para incorporar entidades desconocidas (\textit{Open-World}).
\end{itemize}

\subsection{T7. Pruebas del sistema adaptativo}
Esta tarea trata de realizar un estudio acerca de la influencia de los valores entre parámetros en el rendimiento del sistema.

\textbf{Tareas:}
\begin{itemize}
    \item Generar un script que pruebe múltiples combinaciones de parámetros.
    \item Extraer resultados y obtener las conclusiones
    \item Revisar el código del sistema si este no se comporta según lo esperado.
\end{itemize}

\subsection{T8. Análisis de dispositivos}
En esta tarea se evalúan los dispositivos que pasaron a estar disponibles durante el transcurso del proyecto con el objetivo de establecer comparaciones de rendimiento.

\textbf{Tareas:}
\begin{itemize}
    \item Instalar el sistema mediante un Dockerfile modificado según el dispositivo.
    \item Ejecutar las pruebas y obtener los resultados.
    \item Generar una tabla comparativa entre dispositivos.
\end{itemize}

\subsection{T9. Finalización de la documentación}
Esta tarea representa la fase final del proyecto en la que se cubren los últimos detalles de la memoria, concretamente los siguientes puntos:

\begin{itemize}
    \item Añadir últimos resultados y repetir pruebas en caso de que fuese necesario.
    \item Ajustar el contenido a los cambios surgidos en el proyecto.
    \item Añadir la sección de seguimiento, gestión de riesgos, recursos y costes del proyecto.
    \item Añadir conclusiones y trabajo futuro.
    \item Confirmar la estructura de la memoria.
    \item Agregar apéndices si fuera necesario.
    \item Repaso del contenido de la memoria para correcciones y para cubrir secciones incompletas.
    \item Revisar bibliografía.
\end{itemize}

En la figura TODO se muestra el diagrama de Gantt de todas las tareas, con el fin de aportar un apoyo visual.

\section{Gestión de riesgos}

\input{contenido/tables/risk.tex}

La tabla \ref{tab:risks} muestra el plan de gestión de riesgos elaborado para mitigar el impacto de dichos riesgos y evitar que retrasen en grave medida la consecución del proyecto.

\section{Seguimiento}
TODO: Cada una de las tareas del proyecto se añaden a la fase \textit{backlog}, que posteriormente se dividen en varias tareas que se incorporan a la fase \textit{to-do}.

TODO: vaya redacción... El desarrollo del proyecto en líneas generales se ha mantenido según lo previsto. Los imprevistos que surgieron se pudieron suplir en cierta medida con la realización de otras tareas, pero han provocado retardos en el proyecto. Los siguientes imprevistos:

\begin{itemize}
    \item \textbf{Instalación y ejecución del sistema de partida}: la instalación del sistema en la Jetson Xavier NX se retrasó debido a que no llegaba una tarjeta microSD, necesaria para flashear el \gls{so}. Mientras tanto, se trabajó en preparar un Dockerfile de despliegue con todo el software y a experimentar con el sistema en el portátil personal.
    \item TODO: SEGUIR
\end{itemize}

\subsection{Análisis de desviaciones temporales}

\section{Recursos y costes del proyecto}

En cuanto a recursos materiales podemos hablar de software y hardware. En el primer caso, todo el software utilizado en el proyecto es de uso gratuito, por lo que no supuso ningún coste.

\input{contenido/tables/recursos.tex}

En cuanto al hardware, salvo el Summit\textunderscore XL y la estación base del GPS que fueron facilitadas por el CITIC,  puede verse un desglose de los componentes usados y su precio en la tabla \ref{tab:resources}.

\input{contenido/tables/costs.tex}

Los recursos humanos requeridos para el proyecto y sus costes se exponen en la tabla \ref{tab:humans}.

